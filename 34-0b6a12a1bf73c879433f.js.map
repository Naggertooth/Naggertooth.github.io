{"version":3,"sources":["webpack:///./src/containers/PrivateRoute/PrivateRoute.js"],"names":["GET_ME","helpers","api","linksPaths","constants","links","PrivateRouteComponent","_ref","Component","component","props","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0___default","_useState","useState","loggedIn","setLoggedIn","useEffect","location","pathname","root","axios","get","withCredentials","then","catch","navigate","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_components_common_Login__WEBPACK_IMPORTED_MODULE_5__","propTypes","PropTypes","instanceOf","Object","isRequired"],"mappings":"mMASQA,EAAWC,IAAQC,IAAnBF,OACAG,EAAeF,IAAQG,UAAUC,MAAjCF,WAER,SAASG,EAATC,GAAmE,IAAvBC,EAAuBD,EAAlCE,UAAyBC,EAASC,IAAAJ,EAAA,eAAAK,EAC/BC,oBAAS,GAAlCC,EADwDF,EAAA,GAC9CG,EAD8CH,EAAA,GAkB/D,OANAI,oBAAU,WACFN,EAAMO,SAASC,WAAaf,EAAWgB,MAVtBC,IAAMC,IAAIrB,EAAQ,CAAEsB,iBAAiB,IACzDC,KAAK,kBAAoB,IAAbT,EAAoBC,GAAY,GAAQ,OACpDS,MAAM,YACc,IAAbV,GACAC,GAAY,GAEhBU,YAAStB,EAAWgB,UASpBL,EAAuBY,EAAAC,EAAAC,cAACpB,EAAcE,GAA3BgB,EAAAC,EAAAC,cAACC,EAAA,EAAD,MAGvBvB,EAAsBwB,UAAY,CAC9BrB,UAAWsB,IAAUC,WAAWC,QAAQC,YAE7B5B","file":"34-0b6a12a1bf73c879433f.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { navigate } from 'gatsby'\nimport PropTypes from 'prop-types'\nimport axios from 'axios'\n\nimport Login from '../../components/common/Login'\n\nimport helpers from '../../helpers'\n\nconst { GET_ME } = helpers.api\nconst { linksPaths } = helpers.constants.links\n\nfunction PrivateRouteComponent({ component: Component, ...props }) {\n    const [loggedIn, setLoggedIn] = useState(false)\n\n    const isLoggedIn = () => axios.get(GET_ME, { withCredentials: true })\n        .then(() => (loggedIn !== true ? setLoggedIn(true) : null))\n        .catch(() => {\n            if (loggedIn !== false) {\n                setLoggedIn(false)\n            }\n            navigate(linksPaths.root)\n        })\n\n    useEffect(() => {\n        if (props.location.pathname !== linksPaths.root) {\n            isLoggedIn()\n        }\n    })\n\n    return !loggedIn ? <Login /> : <Component {...props} />\n}\n\nPrivateRouteComponent.propTypes = {\n    component: PropTypes.instanceOf(Object).isRequired,\n}\nexport default PrivateRouteComponent\n"],"sourceRoot":""}