{"version":3,"sources":["webpack:///./src/containers/PrivateRoute/PrivateRoute.js"],"names":["GET_ME","helpers","api","linksPaths","constants","links","PrivateRouteComponent","_ref","Component","component","props","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0___default","_useState","useState","loggedIn","setLoggedIn","location","pathname","root","axios","get","withCredentials","then","catch","navigate","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_components_common_Login__WEBPACK_IMPORTED_MODULE_5__","propTypes","PropTypes","instanceOf","Object","isRequired"],"mappings":"mMASQA,EAAWC,IAAQC,IAAnBF,OACAG,EAAeF,IAAQG,UAAUC,MAAjCF,WAER,SAASG,EAATC,GAAmE,IAAvBC,EAAuBD,EAAlCE,UAAyBC,EAASC,IAAAJ,EAAA,eAAAK,EAC/BC,oBAAS,GAAlCC,EADwDF,EAAA,GAC9CG,EAD8CH,EAAA,GAW/D,OAJIF,EAAMM,SAASC,WAAad,EAAWe,MAJlBC,IAAMC,IAAIpB,EAAQ,CAAEqB,iBAAiB,IACzDC,KAAK,kBAAMP,GAAY,KACvBQ,MAAM,kBAAMC,YAASrB,EAAWe,QAM7BJ,EAAuBW,EAAAC,EAAAC,cAACnB,EAAcE,GAA3Be,EAAAC,EAAAC,cAACC,EAAA,EAAD,MAGvBtB,EAAsBuB,UAAY,CAC9BpB,UAAWqB,IAAUC,WAAWC,QAAQC,YAE7B3B","file":"34-6f42fd278f1829ae5c24.js","sourcesContent":["import React, { useState } from 'react'\nimport { navigate } from 'gatsby'\nimport PropTypes from 'prop-types'\nimport axios from 'axios'\n\nimport Login from '../../components/common/Login'\n\nimport helpers from '../../helpers'\n\nconst { GET_ME } = helpers.api\nconst { linksPaths } = helpers.constants.links\n\nfunction PrivateRouteComponent({ component: Component, ...props }) {\n    const [loggedIn, setLoggedIn] = useState(false)\n\n    const isLoggedIn = () => axios.get(GET_ME, { withCredentials: true })\n        .then(() => setLoggedIn(true))\n        .catch(() => navigate(linksPaths.root))\n\n    if (props.location.pathname !== linksPaths.root) {\n        isLoggedIn()\n    }\n\n    return !loggedIn ? <Login /> : <Component {...props} />\n}\n\nPrivateRouteComponent.propTypes = {\n    component: PropTypes.instanceOf(Object).isRequired,\n}\nexport default PrivateRouteComponent\n"],"sourceRoot":""}