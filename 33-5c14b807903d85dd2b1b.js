(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{643:function(e,t,a){"use strict";a.r(t);a(195),a(139),a(100),a(192),a(311);var n=a(99),r=a.n(n),i=a(0),o=a.n(i),l=a(68),c=a(27),s=a.n(c),m=a(662),u=a(573),f=a(663),d=a(13),p=a(655),g=a.n(p),h=function(e){var t=e.data,a=t.timelines,n=t.range,r=[{x:a,y:t.values,type:"scatter",mode:"lines+markers",marker:{color:"red"}}],i={width:window.innerWidth>1599?800:700,height:390,yaxis:{side:"left",domain:[0,1]},xaxis:{type:"date",range:n,tickformat:"%d %b\n %Y"}};return o.a.createElement(g.a,{data:r,layout:i,config:{displaylogo:!1}})},b=(a(30),a(758)),v=a(707),E=a.n(v),k=(a(596),a(24));Object(b.b)("ru",E.a);var O=k.a.constants.moment.graphFormat,y=function(e){var t=e.range,a=e.changeRange,n=Object(i.useState)(0),r=n[0],l=n[1],c=function(e,t){return s()(e).isAfter(t)&&0===r?[s()(e).format(O),s()(e).format(O)]:s()(t).isBefore(e)&&1===r?(l(0),[s()(t).format(O),s()(t).format(O)]):[s()(e).format(O),s()(t).format(O)]};return o.a.createElement("div",{className:"calendar"},o.a.createElement(b.a,Object.assign({maxDate:new Date,open:!0,locale:"ru",popperPlacement:"bottom-start",popperModifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1},computeStyle:{enabled:!1},hide:{enabled:!1}},startDate:s()(t[0]).toDate(),endDate:s()(t[t.length-1]).toDate(),onChange:function(e){0===r?(l(1),a(JSON.stringify(c(e,e)))):(l(0),a(JSON.stringify(c(t[0],e))))}},0===r?{}:{selectsEnd:!0})))},w=a(765),N=(a(597),function(e){var t=Object.assign({},e);return o.a.createElement(w.a,t)}),j=a(571),M=a.n(j),S=k.a.constants.forms,x=S.graphTimes,V=S.serverFormat,A=S.recognizedFormat,D=S.graphFormat,_=k.a.utils.graph,F=_.getAxisX,I=_.getAxisY,J=_.QuickSort,B=Object(l.b)(function(e){return{timeline:e.form.Graph.values.timeline,infoMarkets:e.graph}},function(e){return{changeValue:function(t,a,n){return e(Object(u.a)(t,a,n))},getMarketsValues:function(t,a){return e(d.b.default.getBriefcaseData({start:t,end:a}))}}})(function(e){var t=e.timeline,a=e.changeValue,n=e.infoMarkets,l=e.getMarketsValues,c=r()(e,["timeline","changeValue","infoMarkets","getMarketsValues"]),u=c.filterIndexes,f=c.location,d=JSON.parse(t),p=d.map(function(e){return s()(e,D).format(A)}),g=n.CurrencyMarketInfo,b=n.StockMarketInfo,v=n.StructureProductInfo,E=n.UrgentMarketInfo,k=Object(i.useState)({timelines:[],values:[],range:d}),O=k[0],w=k[1];return Object(i.useEffect)(function(){l(s()(d[0],D).format(V),s()(d[p.length-1],D).format(V))},[t]),Object(i.useEffect)(function(){var e=[g,b,v,E],t=Array.isArray(u)?e.filter(function(e,t){return u.includes(t)}):e,a=F(t),n=I(a,t),r=J({A:a,B:n});w({timelines:r.A,values:r.B,range:d})},[n,u,f]),o.a.createElement("div",{className:M.a.graph__container},o.a.createElement("div",{className:M.a.plot},o.a.createElement("div",{className:M.a.plot__title},o.a.createElement("span",{className:M.a.title},"Динамика стоимости портфеля (руб.)"),o.a.createElement("form",{className:M.a.controls},o.a.createElement("label",{htmlFor:"timeline",className:M.a.ddLabel},"Показать за"),o.a.createElement(m.a,{name:"timeline",component:"input",type:"hidden"}),o.a.createElement(N,{onChange:function(e,t){return a("Graph","timeline",t.value)},placeholder:"Промежуток времени",options:x,defaultValue:x[1].value,selection:!0}))),o.a.createElement("div",{className:M.a.plot__container},o.a.createElement(h,{data:O}))),o.a.createElement(y,{changeRange:function(e){return a("Graph","timeline",e)},range:d}))}),G=Object(f.a)({form:"Graph",destroyOnUnmount:!1,initialValues:{timeline:x[1].value}})(B);t.default=G}}]);
//# sourceMappingURL=33-5c14b807903d85dd2b1b.js.map